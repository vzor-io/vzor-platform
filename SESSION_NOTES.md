# VZOR Platform - Session Notes
**Last Updated:** 2026-02-13
**Server:** 95.174.95.209 (Cloud.ru)
**Current Branch:** development (main = —ç—Ç–∞–ª–æ–Ω)

---

## ‚úÖ –ß–¢–û –°–î–ï–õ–ê–ù–û (13.02.2026)

### 1. –£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–∏–∑–∞–π–Ω–∞ —á–∞—Ç-–ø–∞–Ω–µ–ª–µ–π (BLD + MSG)
- **BLD** (VZOR Builder) –∏ **MSG** (VZOR Messenger) —Ç–µ–ø–µ—Ä—å –≤—ã–≥–ª—è–¥—è—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–æ
- –£–±—Ä–∞–ª–∏ –æ—Ä–∞–Ω–∂–µ–≤—ã–µ –∞–∫—Ü–µ–Ω—Ç—ã –∏–∑ MSG (–±—ã–ª–∏ rgba(255,165,0)), –∑–∞–º–µ–Ω–∏–ª–∏ –Ω–∞ –±–µ–ª—ã–π
- –£–±—Ä–∞–ª–∏ –±–∏—Ä—é–∑–æ–≤—ã–µ –∞–∫—Ü–µ–Ω—Ç—ã –∏–∑ BLD (–±—ã–ª–∏ rgba(78,205,196)), –∑–∞–º–µ–Ω–∏–ª–∏ –Ω–∞ –±–µ–ª—ã–π
- **–í–Ω—É—Ç—Ä–∏ –ø–∞–Ω–µ–ª–µ–π –Ω–µ—Ç —è—Ä–∫–∏—Ö —Ü–≤–µ—Ç–æ–≤** ‚Äî –≤—Å—ë –≤ —Å—Ç–∏–ª–µ icon-btn –ª–µ–≤–æ–π –ø–∞–Ω–µ–ª–∏
- –ö–Ω–æ–ø–∫–∏-—Ç–æ–≥–≥–ª—ã: 42px, –±–µ–ª–æ–µ —Å–≤–µ—á–µ–Ω–∏–µ, scale 1.15 (–∫–∞–∫ icon-btn)
- Model selector, tabs, items ‚Äî –≤—Å—ë –±–µ–ª–æ–µ-subtle

### 2. –ù–æ–≤—ã–µ —Ñ–∏—á–∏ –≤ BLD –ø–∞–Ω–µ–ª–∏
- –ö–Ω–æ–ø–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ (—Å—Ç—Ä–µ–ª–∫–∞) ‚Äî `#agent-chat-send`
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ API –∫–ª—é—á–µ–π ‚Äî `fetchBalances()` —á–µ—Ä–µ–∑ `/api/oc-balance`
- –ù–µ–ø—Ä–µ—Ä—ã–≤–Ω—ã–π –º–∏–∫—Ä–æ—Ñ–æ–Ω —Å interim-—Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ (—Ç–µ–∫—Å—Ç –≤ –ø–æ–ª–µ –≤–≤–æ–¥–∞, –Ω–µ –∞–≤—Ç–æ–æ—Ç–ø—Ä–∞–≤–∫–∞)

### 3. –ü–æ—á–∏–Ω–∫–∞ AgentVzor.0
- **–û—à–∏–±–∫–∞ 401:** mcp_server_token –±—ã–ª –ø—É—Å—Ç–æ–π. –î–æ–±–∞–≤–ª–µ–Ω –≤ /a0/usr/.env, –ø—Ä–æ–ø–∞—Ç—á–µ–Ω settings.py
- **–û—à–∏–±–∫–∞ 500:** CallSubordinate.get_variables() –Ω–µ –ø—Ä–∏–Ω–∏–º–∞–ª **kwargs. –ü—Ä–æ–ø–∞—Ç—á–µ–Ω—ã —Ñ–∞–π–ª—ã –≤ /a0/usr/prompts/
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** AgentVzor.0 –æ—Ç–≤–µ—á–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### 4. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å ‚Äî API –∫–ª—é—á–∏
- –í—ã–Ω–µ—Å–ª–∏ –≤—Å–µ API –∫–ª—é—á–∏ –∏–∑ docker-compose.yml –≤ .env
- docker-compose.yml –∏—Å–ø–æ–ª—å–∑—É–µ—Ç ${VAR} —Å—Å—ã–ª–∫–∏
- .env –≤ .gitignore ‚Äî –Ω–µ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ Git

### 5. Git
- –í—Å—ë –∑–∞–∫–æ–º–º–∏—á–µ–Ω–æ –∏ –∑–∞–ø—É—à–µ–Ω–æ –Ω–∞ GitHub (–≤–µ—Ç–∫–∞ development)
- 2 –∫–æ–º–º–∏—Ç–∞: –æ—Å–Ω–æ–≤–Ω–æ–π + docker-compose.yml —Å .env

---

## ‚úÖ –ß–¢–û –°–î–ï–õ–ê–ù–û –†–ê–ù–ï–ï (06.02.2026)

### –ü–∞–Ω–µ–ª—å –∑–∞–¥–∞—á (task-interface)
- –ü–∞–Ω–µ–ª—å —Å–∫—Ä—ã—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø–æ –∫–ª–∏–∫—É –Ω–∞ –∫–Ω–æ–ø–∫—É –≤ –ª–µ–≤–æ–π –ø–∞–Ω–µ–ª–∏
- –ö—Ä–µ—Å—Ç–∏–∫ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –ø–∞–Ω–µ–ª—å

### –ö–Ω–æ–ø–∫–∏ –∏ UI
- –õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å (icon-bar): –ö—Ä—É–≥–ª—ã–µ –∫–Ω–æ–ø–∫–∏ —Å –±–µ–ª—ã–º —Å–≤–µ—á–µ–Ω–∏–µ–º, scale 1.15
- –í—Å–µ –∫–Ω–æ–ø–∫–∏ –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–π hover
- NODES –≤–∏–¥–Ω–∞ —Ç–æ–ª—å–∫–æ –≤ Development

### Git –∏ GitHub
- –¢–µ–≥: stable-v1.0 (—ç—Ç–∞–ª–æ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è)
- main = —ç—Ç–∞–ª–æ–Ω, development = —Ä–∞–±–æ—á–∞—è
- SSH –∫–ª—é—á –Ω–∞—Å—Ç—Ä–æ–µ–Ω

---

## üìÅ –°–¢–†–£–ö–¢–£–†–ê –ü–†–û–ï–ö–¢–ê

```
/home/vzor/vzor/
‚îú‚îÄ‚îÄ docker-compose.yml          # –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è (–∫–ª—é—á–∏ –≤ .env)
‚îú‚îÄ‚îÄ .env                        # API –∫–ª—é—á–∏ (–ù–ï –≤ Git)
‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îú‚îÄ‚îÄ nginx/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ default.conf        # Nginx –∫–æ–Ω—Ñ–∏–≥ (SSL, proxy)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ssl/                # –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ www/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ index.html      # –ì–õ–ê–í–ù–´–ô –§–ê–ô–õ (—Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –∏–∑ .bak + –ø–∞—Ç—á–∏)
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ index.html.bak  # –ë–ê–ó–û–í–´–ô –§–ê–ô–õ (BLD –ø–∞–Ω–µ–ª—å –∑–¥–µ—Å—å)
‚îÇ   ‚îî‚îÄ‚îÄ prometheus/
‚îú‚îÄ‚îÄ data/                       # Docker volumes
‚îî‚îÄ‚îÄ SESSION_NOTES.md            # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

### –õ–æ–∫–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã (C:\Users\vzor\)
- `oc_css.txt` ‚Äî CSS –¥–ª—è MSG –ø–∞–Ω–µ–ª–∏ (–±–µ–ª—ã–π –¥–∏–∑–∞–π–Ω)
- `oc_html_js.txt` ‚Äî HTML+JS –¥–ª—è MSG –ø–∞–Ω–µ–ª–∏
- `patch_oc.py` ‚Äî –°–∫—Ä–∏–ø—Ç –¥–µ–ø–ª–æ—è (—Å–æ–±–∏—Ä–∞–µ—Ç index.html –∏–∑ .bak + oc_css + oc_html_js)
- `patch_bld.py` ‚Äî –°–∫—Ä–∏–ø—Ç –ø–∞—Ç—á–∞ BLD –ø–∞–Ω–µ–ª–∏ –≤ index.html.bak

---

## üîß –ö–ê–ö –†–ê–ë–û–¢–ê–ï–¢ –î–ï–ü–õ–û–ô

### –°–∏—Å—Ç–µ–º–∞ —Å–±–æ—Ä–∫–∏ index.html
1. `index.html.bak` ‚Äî –±–∞–∑–æ–≤—ã–π —Ñ–∞–π–ª —Å BLD –ø–∞–Ω–µ–ª—å—é
2. `patch_oc.py` –∫–æ–ø–∏—Ä—É–µ—Ç .bak –≤ index.html
3. –í—Å—Ç–∞–≤–ª—è–µ—Ç CSS –∏–∑ `/tmp/oc_css.txt` –ø–µ—Ä–µ–¥ `/* Block progress dashboard */`
4. –í—Å—Ç–∞–≤–ª—è–µ—Ç HTML/JS –∏–∑ `/tmp/oc_html_js.txt` –ø–µ—Ä–µ–¥ `<div id="version-badge"`
5. `docker restart vzor-nginx` –ø—Ä–∏–º–µ–Ω—è–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è

### –ö–æ–º–∞–Ω–¥—ã –¥–µ–ø–ª–æ—è
```bash
# –ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ ‚Äî –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä
scp -i C:\Users\vzor\Desktop\.ssh\id_ed25519 C:\Users\vzor\oc_css.txt vzor@95.174.95.209:/tmp/
scp -i C:\Users\vzor\Desktop\.ssh\id_ed25519 C:\Users\vzor\oc_html_js.txt vzor@95.174.95.209:/tmp/
scp -i C:\Users\vzor\Desktop\.ssh\id_ed25519 C:\Users\vzor\patch_oc.py vzor@95.174.95.209:/tmp/

# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
python3 /tmp/patch_oc.py
docker restart vzor-nginx
```

---

## üîß DOCKER –°–ï–†–í–ò–°–´

| –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä | –ü–æ—Ä—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|------|----------|
| vzor-nginx | 443 | Frontend (index.html) |
| vzor-api | 8000 | Backend API |
| vzor-agent-zero | 5000->80 | Agent Zero (AI) |
| vzor-grafana | 3000 | –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ |
| vzor-postgres | 5432 | –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö |
| vzor-redis | 6379 | –ö—ç—à |

---

## üîß –§–ê–ô–õ–´ AGENT ZERO

```
/a0/
‚îú‚îÄ‚îÄ usr/
‚îÇ   ‚îú‚îÄ‚îÄ .env                    # MCP_SERVER_TOKEN=vzor-agent-key-2026
‚îÇ   ‚îú‚îÄ‚îÄ prompts/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ agent.system.tool.call_sub.py   # –ü—Ä–æ–ø–∞—Ç—á–µ–Ω: **kwargs
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ agent.system.tools.py           # –ü—Ä–æ–ø–∞—Ç—á–µ–Ω: **kwargs
‚îÇ   ‚îî‚îÄ‚îÄ settings.json
‚îú‚îÄ‚îÄ python/helpers/
‚îÇ   ‚îî‚îÄ‚îÄ settings.py             # –ü—Ä–æ–ø–∞—Ç—á–µ–Ω: –∑–∞–≥—Ä—É–∑–∫–∞ MCP —Ç–æ–∫–µ–Ω–∞ –∏–∑ dotenv
```

---

## üöÄ –ö–û–ú–ê–ù–î–´

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É
```bash
ssh -i C:\Users\vzor\Desktop\.ssh\id_ed25519 vzor@95.174.95.209
```

### Docker
```bash
cd /home/vzor/vzor
docker-compose ps                    # –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤
docker restart vzor-nginx           # –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ nginx
docker-compose logs -f vzor-nginx   # –õ–æ–≥–∏
```

### Git
```bash
cd /home/vzor/vzor
git status
git checkout development            # –†–∞–±–æ—á–∞—è –≤–µ—Ç–∫–∞
git checkout main                   # –≠—Ç–∞–ª–æ–Ω
git log --oneline -10               # –ò—Å—Ç–æ—Ä–∏—è
```

---

## üêõ –†–ï–®–ï–ù–ù–´–ï –ü–†–û–ë–õ–ï–ú–´

- task-interface –∞–≤—Ç–æ–ø–æ–∫–∞–∑ (–±—ã–ª–æ 3 –º–µ—Å—Ç–∞)
- –ö–Ω–æ–ø–∫–∞ –∑–∞–¥–∞—á –Ω–µ —Ä–∞–±–æ—Ç–∞–ª–∞ (–æ–±—â–∏–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –º–µ—à–∞–ª)
- –ë–∏—Ä—é–∑–æ–≤–∞—è/–æ—Ä–∞–Ω–∂–µ–≤–∞—è –ø–æ–¥—Å–≤–µ—Ç–∫–∞ –∫–Ω–æ–ø–æ–∫ (—Ç–µ–ø–µ—Ä—å –±–µ–ª–∞—è)
- NODES –≤–∏–¥–Ω–∞ –Ω–∞ –≤—Å–µ—Ö —ç—Ç–∞–ø–∞—Ö (—Ç–µ–ø–µ—Ä—å —Ç–æ–ª—å–∫–æ –≤ Development)
- AgentVzor.0 –æ—à–∏–±–∫–∞ 401 (mcp_server_token –ø—É—Å—Ç–æ–π)
- AgentVzor.0 –æ—à–∏–±–∫–∞ 500 (CallSubordinate –±–µ–∑ **kwargs)
- API –∫–ª—é—á–∏ –≤ docker-compose.yml (–≤—ã–Ω–µ—Å–µ–Ω—ã –≤ .env)
- GitHub Push Protection –±–ª–æ–∫–∏—Ä–æ–≤–∞–ª–∞ push (–∫–ª—é—á–∏ —É–±—Ä–∞–Ω—ã)

---

## üí° –í–ê–ñ–ù–´–ï –ó–ê–ú–ï–¢–ö–ò

- **–ù–µ —Ç—Ä–æ–≥–∞—Ç—å –≤–µ—Ç–∫—É main** ‚Äî —ç—Ç–æ —ç—Ç–∞–ª–æ–Ω
- **–†–∞–±–æ—Ç–∞—Ç—å —Ç–æ–ª—å–∫–æ –Ω–∞ development**
- **index.html —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –∏–∑ .bak** ‚Äî –Ω–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–ø—Ä—è–º—É—é
- **–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:** `docker restart vzor-nginx`
- **–û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞:** Ctrl+F5 –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- **–î–∏–∑–∞–π–Ω –∫–Ω–æ–ø–æ–∫:** –í—Å—ë –∫–∞–∫ icon-btn (42px, –±–µ–ª–æ–µ —Å–≤–µ—á–µ–Ω–∏–µ, scale 1.15)

---

## üîó –°–°–´–õ–ö–ò

- **–°–∞–π—Ç:** https://95.174.95.209
- **GitHub:** https://github.com/vzor-io/vzor-platform
- **–≠—Ç–∞–ª–æ–Ω:** –≤–µ—Ç–∫–∞ main, —Ç–µ–≥ stable-v1.0
- **–†–∞–±–æ—á–∞—è:** –≤–µ—Ç–∫–∞ development

---

## üìû –ö–ê–ö –ü–†–û–î–û–õ–ñ–ò–¢–¨ –†–ê–ë–û–¢–£

### 1. –ó–∞–ø—É—Å—Ç–∏—Ç—å Claude Code
```
claude
```

### 2. –ü–µ—Ä–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
```
–ü—Ä–æ—á–∏—Ç–∞–π C:\Users\vzor\SESSION_NOTES.md –∏ –ø—Ä–æ–¥–æ–ª–∂–∏–º —Ä–∞–±–æ—Ç—É –Ω–∞–¥ VZOR –ø—Ä–æ–µ–∫—Ç–æ–º
```

### 3. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É
**SSH (—á–µ—Ä–µ–∑ Claude Code):**
```bash
ssh -i C:\Users\vzor\Desktop\.ssh\id_ed25519 vzor@95.174.95.209
```

**WinSCP (GUI):**
1. –ó–∞–ø—É—Å—Ç–∏ `C:\Users\vzor\Desktop\WinSCP\WinSCP.exe`
2. –°–µ—Å—Å–∏—è: **CloudRU_VZOR**
3. –ü–∞—Ä–æ–ª—å: `Vzor2024!Temp`

---

## üéØ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

1. [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ –≤–≤–æ–¥–∞
2. [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Agent Zero API —Å task-interface
3. [ ] –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

---

**–í–ê–ñ–ù–û:** –°–∫–∞–∂–∏ Claude –ø—Ä–æ—á–∏—Ç–∞—Ç—å —ç—Ç–æ—Ç —Ñ–∞–π–ª –≤ –Ω–∞—á–∞–ª–µ –∫–∞–∂–¥–æ–π —Å–µ—Å—Å–∏–∏!
